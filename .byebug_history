c
user.ratings.group_by{|ra| ra.beer.brewery.id}.map{|s,r| {s=> r.map(&:score).sum / r.size.to_f}}.max_by{|k,v| v}.keys.first
user.ratings.group_by{|ra| ra.beer.brewery.id}.map{|s,r| {s=> r.map(&:score).sum / r.size.to_f}}
user
c
user.ratings.group_by{|ra| ra.beer.style}.map{|s,r| {s => r.map(&:score).sum / r.size.to_f}}.max_by{|item| item.values}
user.ratings.group_by{|ra| ra.beer.style}.map{|s,r| {s => r.map(&:score).sum / r.size.to_f}}.max_by{|item| item.value}
user.ratings.group_by{|ra| ra.beer.style}.map{|s,r| {s => r.map(&:score).sum / r.size.to_f}}.max_by{|item| item}
user.ratings.group_by{|ra| ra.beer.style}.map{|s,r| {s => r.map(&:score).sum / r.size.to_f}}
user.ratings.group_by{|ra| ra.beer.style}.map{|s,r| {s => r.map(&:score).sum / r.size.to_f}}.select{|k,v| values==max_value}
user.ratings.group_by{|ra| ra.beer.style}.map{|s,r| {s => r.map(&:score).sum / r.size.to_f}}
user.ratings.group_by{|ra| ra.beer.style}.map{|s,r| {s => r.map(&:score).sum / r.size.to_f}}.max_by{|k,v| v}
user.ratings.group_by{|ra| ra.beer.style}.map{|s,r| {s => r.map(&:score).sum / r.size.to_f}}.max{|k,v| v}
user.ratings.group_by{|ra| ra.beer.style}.map{|s,r| {s => r.map(&:score).sum / r.size.to_f}}
user.ratings.group_by{|ra| ra.beer.style}.map{|s,r| {s => r.map(&:score).sum / r.size.to_f}}.max{|k,v| v}
user.ratings.group_by{|ra| ra.beer.style}.map{|s,r| {s => r.map(&:score).sum / r.size.to_f}}.max_by{|k,v| v}
user.ratings.group_by{|ra| ra.beer.style}.map{|s,r| {s => r.map(&:score).sum / r.size.to_f}}.max_by{|k,v| k}
user.ratings.group_by{|ra| ra.beer.style}.map{|s,r| {s => r.map(&:score).sum / r.size.to_f}}.max_by{|k,v| k v}
user.ratings.group_by{|ra| ra.beer.style}.map{|s,r| {s => r.map(&:score).sum / r.size.to_f}}.max_by{|k,v| v}
user.ratings.group_by{|ra| ra.beer.style}.map{|s,r| {s => r.map(&:score).sum / r.size.to_f}}
user.ratings.group_by{|ra| ra.beer.style}
        .map{|s,r| {s => r.map(&:score).sum / r.size.to_f}}
user.ratings.group_by{|ra| ra.beer.style}
user
        .map{|s,r| {s => r.map(&:score).sum / r.size.to_f}}
ratings.group_by{|ra| ra.beer.style}
c
user
c
Brewery.all
best_brewery_id
Brewery.all
ratings.group_by{|ra| ra.beer.brewery.id}.map{|s,r| {s=> r.map(&:score).sum / r.size.to_f}}.max_by{|k,v| v}.keys.first
c
Brewery.all
user.favorite_brewery
Beer.all
Rating.all
user
c
Beer.all
Beer.all.find_by id=2
Beer.all.find_by id==2
Beer.all.find_by id=="
Beer.all
Beer.find_by id=2
user.ratings
user.ratings.pluck(:Score)
user
c
user.favorite_style
user_favorite_style
user.ratings.count
user.ratings
user
Rating.count
Rating.all
c
br
c
brewery
c
brewery
c
Brewery.all
c
u.beers
u=User.first
u=_
User.first
u=_
User.all
self.name
user
ratings
c
user.beers.last.ratings
user.beers.last
user.beers
user.ratings
beer2
user.favorite_brewery
user.ratings.count
user.ratings
ratings
c
beer2
c
ratings.first.user
ratings.count
ratings
c
user.ratings
c
user.ratings
user.ratings.count
user.favorite_brewery
user
user.ratings.last
user.ratings.last.beer.brewery
user.ratings.first
user.ratings.first.beer.brewery
user.ratings.first.brewery
user.ratings
user.favorite_brewery
user
c
Brewery.all.select{|b| b.id==best_brewery_id}.first
Brewery.all.select{|b| b.id==best_brewery_id}
Brewery.all.find_by id=best_brewery_id
best_brewery_id
c
user
c
@membership.save
@membership
c
Mebmership.users
Membership
@memberships.users
@memberships.include? current_user
@memberships
c
@memberships
c
Membership.all.include? current_user
c
membership_params
c
@rating.save
@rating
c
@rating
c
current_user
rating
c
current_user.ratings
current_user.ratings << rating
rating
current_user.ratings
current_user
c
Rating.last
Rating.all.count
Rating.all select{|rating| rating.user_id.nil? }
Rating.all select{|rating| rating.user_id.nil?}
current_user.ratings
current.user.ratings
current_user
c
beer.delete
beer
continue
params[:rating][:score]
params[:rating]
params[:ratin]
params
